{% load static %}
<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #1a1a2e;
            color: white;
            font-family: Arial, sans-serif;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        /* 🎥 วิดีโอพื้นหลัง */
        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
            opacity: 0.6;
        }

        /* overlay มืดเบาๆ เพื่อให้เนื้อหาเด่นขึ้น */
        .video-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: -1;
        }

        /* 📦 กล่องหลัก 3 คอลัมน์ */
        .container {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 20px;
            width: 98%;
            height: 90vh;
            max-width: 2200px;
        }

        /* 🟦 กล่องซ้าย */
        .left {
            background: none;
            border: 2px solid white;
            border-radius: 15px;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 85%;
            height: 75%;
            margin: auto;
        }

        /* 🟩 กล่องกลาง - แบ่งเป็น 3 ส่วน (บน กลาง ล่าง) */
        .center {
            display: flex;
            flex-direction: column;
            gap: 35px;
            height: 100%;
        }

        /* 📦 กล่อง 4 กล่องด้านบน */
        .top-boxes {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            width: 70%;
            height: 15%;
            margin: 0 auto;
            align-items: center;
            justify-items: center;
        }

        .top-box {
            background: transparent;
            border: none;
            border-radius: 15px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
            transition: all 0.3s;
            width: 100%;
            height: 85%;
            text-decoration: none;
            color: white;
            position: relative;
        }

        .top-box:hover {
            transform: translateY(-5px) scale(1.05);
        }

        /* Tooltip กล่องข้อความ */
        .top-box::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: -35px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            z-index: 10;
        }

        .top-box:hover::after {
            opacity: 1;
        }

        .top-box img {
            width: 50px;
            height: 50px;
            object-fit: contain;
            filter: brightness(0) invert(1) opacity(0.9) drop-shadow(0 0 8px rgba(255, 255, 255, 0.6));
            transition: all 0.3s;
        }

        .top-box:hover img {
            filter: brightness(0) invert(1) opacity(1) drop-shadow(0 0 15px rgba(255, 255, 255, 0.9)) drop-shadow(0 0 25px rgba(255, 255, 255, 0.6));
            transform: scale(1.15);
        }

        /* สไตล์พิเศษสำหรับ Joox SVG */
        .joox-icon {
            width: 75px;
            height: 75px;
            filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.6));
            transition: all 0.3s;
        }

        .top-box:hover .joox-icon {
            filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.9)) drop-shadow(0 0 25px rgba(255, 255, 255, 0.6));
            transform: scale(1.15);
        }

        /* 🎬 ส่วนกลาง */
        .middle-section {
            background: transparent;
            border: none;
            border-radius: 15px;
            padding: 0;
            height: 70%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            filter: drop-shadow(0 0 20px rgba(100, 200, 255, 0.4)) drop-shadow(0 0 30px rgba(150, 100, 255, 0.3)) drop-shadow(0 0 40px rgba(255, 100, 200, 0.2));
            transition: all 0.3s ease;
        }

        .middle-section:hover {
            filter: drop-shadow(0 0 30px rgba(100, 200, 255, 0.6)) drop-shadow(0 0 45px rgba(150, 100, 255, 0.5)) drop-shadow(0 0 60px rgba(255, 100, 200, 0.4)) drop-shadow(0 0 80px rgba(100, 255, 150, 0.3));
            transform: scale(1.02);
        }

        .middle-section iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 15px;
        }

        /* 📝 ส่วนล่าง */
        .bottom-section {
            background: transparent;
            border: none;
            border-radius: 15px;
            padding: 20px;
            height: 20%;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 25px;
        }

        /* การ์ดใน bottom section - ขนาดเล็กลงและกระชับ */
        .bottom-card {
            display: flex;
            flex-direction: row;
            gap: 15px;
            align-items: center;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.08) 0%,
                rgba(255, 255, 255, 0.04) 50%,
                rgba(255, 255, 255, 0.08) 100%);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 18px 20px;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: visible;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 40px rgba(229, 228, 226, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.2),
                inset 0 -1px 0 rgba(0, 0, 0, 0.2);
            width: auto;
            max-width: 400px;
            backdrop-filter: blur(10px);
        }

        /* เอฟเฟกต์แสงแพลตินัมเรืองอยู่ตลอด */
        .bottom-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, 
                rgba(229, 228, 226, 0.25) 0%, 
                rgba(192, 192, 192, 0.15) 25%, 
                transparent 50%);
            animation: rotateGlowPlatinum 4s linear infinite;
            opacity: 1;
        }

        /* แสงวาววับแพลตินัม */
        .bottom-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.4),
                transparent
            );
            animation: shimmer 3s infinite;
        }

        @keyframes rotateGlowPlatinum {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes shimmer {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: 100%; }
        }

        .bottom-card:hover {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.15) 0%,
                rgba(255, 255, 255, 0.08) 50%,
                rgba(255, 255, 255, 0.15) 100%);
            border-color: rgba(255, 255, 255, 0.6);
            transform: translateY(-8px) scale(1.03);
            box-shadow: 
                0 12px 48px rgba(0, 0, 0, 0.4),
                0 0 60px rgba(229, 228, 226, 0.4),
                0 0 80px rgba(255, 255, 255, 0.3),
                0 0 100px rgba(192, 192, 192, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                inset 0 -1px 0 rgba(0, 0, 0, 0.3);
        }

        .bottom-card:active {
            transform: translateY(-6px) scale(1.01);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.5),
                0 0 50px rgba(229, 228, 226, 0.6);
        }

        /* รูปภาพในการ์ด - ทำเป็นวงกลม */
        .bottom-card-image {
            width: 75px;
            height: 75px;
            border-radius: 50%;
            object-fit: cover;
            flex-shrink: 0;
            border: 3px solid rgba(255, 255, 255, 0.8);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 0 20px rgba(255, 255, 255, 0.8),
                0 0 40px rgba(255, 255, 255, 0.6),
                0 0 60px rgba(255, 255, 255, 0.4),
                0 0 80px rgba(229, 228, 226, 0.3),
                0 6px 20px rgba(0, 0, 0, 0.3),
                inset 0 0 20px rgba(255, 255, 255, 0.2);
            position: relative;
            z-index: 1;
            animation: profileGlow 3s ease-in-out infinite;
            overflow: hidden;
        }

        @keyframes profileGlow {
            0%, 100% {
                box-shadow: 
                    0 0 20px rgba(255, 255, 255, 0.8),
                    0 0 40px rgba(255, 255, 255, 0.6),
                    0 0 60px rgba(255, 255, 255, 0.4),
                    0 0 80px rgba(229, 228, 226, 0.3),
                    0 6px 20px rgba(0, 0, 0, 0.3),
                    inset 0 0 20px rgba(255, 255, 255, 0.2);
            }
            50% {
                box-shadow: 
                    0 0 30px rgba(255, 255, 255, 1),
                    0 0 50px rgba(255, 255, 255, 0.8),
                    0 0 70px rgba(255, 255, 255, 0.6),
                    0 0 90px rgba(229, 228, 226, 0.5),
                    0 6px 20px rgba(0, 0, 0, 0.3),
                    inset 0 0 30px rgba(255, 255, 255, 0.3);
            }
        }

        .bottom-card:hover .bottom-card-image {
            border-color: rgba(255, 255, 255, 1);
            transform: scale(1.08) rotate(5deg);
            box-shadow: 
                0 0 35px rgba(255, 255, 255, 1),
                0 0 60px rgba(255, 255, 255, 0.9),
                0 0 85px rgba(255, 255, 255, 0.7),
                0 0 110px rgba(229, 228, 226, 0.6),
                0 0 140px rgba(192, 192, 192, 0.4),
                0 8px 30px rgba(0, 0, 0, 0.4),
                inset 0 0 30px rgba(255, 255, 255, 0.4);
            animation: none;
        }

        /* เมื่อ hover ที่รูปโปรไฟล์โดยตรง - ขยายพอประมาณไม่ชนขอบ */
        .bottom-card-image:hover {
            transform: scale(1.25) rotate(0deg) translateY(-8px) !important;
            border: 5px solid rgba(255, 255, 255, 1);
            box-shadow: 
                /* แสงเรืองชั้นใน */
                0 0 20px rgba(255, 255, 255, 1),
                0 0 40px rgba(255, 255, 255, 1),
                0 0 60px rgba(255, 255, 255, 0.9),
                /* แสงสีทอง/แพลตินัม */
                0 0 80px rgba(229, 228, 226, 1),
                0 0 100px rgba(192, 192, 192, 0.9),
                0 0 120px rgba(255, 255, 255, 0.8),
                0 0 140px rgba(229, 228, 226, 0.7),
                /* แสงเรืองชั้นนอก */
                0 0 160px rgba(255, 255, 255, 0.6),
                0 0 180px rgba(192, 192, 192, 0.5),
                0 0 200px rgba(229, 228, 226, 0.4),
                /* เงาใต้รูป */
                0 20px 60px rgba(0, 0, 0, 0.6),
                /* แสงภายใน */
                inset 0 0 50px rgba(255, 255, 255, 0.6),
                inset 0 0 30px rgba(229, 228, 226, 0.4);
            z-index: 100;
            cursor: pointer;
            filter: brightness(1.15) contrast(1.1) saturate(1.2);
            animation: luxuryPulse 2s ease-in-out infinite;
        }

        /* Animation หรูหราสำหรับรูปที่ขยาย */
        @keyframes luxuryPulse {
            0%, 100% {
                filter: brightness(1.15) contrast(1.1) saturate(1.2);
                box-shadow: 
                    0 0 20px rgba(255, 255, 255, 1),
                    0 0 40px rgba(255, 255, 255, 1),
                    0 0 60px rgba(255, 255, 255, 0.9),
                    0 0 80px rgba(229, 228, 226, 1),
                    0 0 100px rgba(192, 192, 192, 0.9),
                    0 0 120px rgba(255, 255, 255, 0.8),
                    0 0 140px rgba(229, 228, 226, 0.7),
                    0 0 160px rgba(255, 255, 255, 0.6),
                    0 0 180px rgba(192, 192, 192, 0.5),
                    0 0 200px rgba(229, 228, 226, 0.4),
                    0 20px 60px rgba(0, 0, 0, 0.6),
                    inset 0 0 50px rgba(255, 255, 255, 0.6),
                    inset 0 0 30px rgba(229, 228, 226, 0.4);
            }
            50% {
                filter: brightness(1.25) contrast(1.15) saturate(1.3);
                box-shadow: 
                    0 0 30px rgba(255, 255, 255, 1),
                    0 0 50px rgba(255, 255, 255, 1),
                    0 0 70px rgba(255, 255, 255, 1),
                    0 0 90px rgba(229, 228, 226, 1),
                    0 0 110px rgba(192, 192, 192, 1),
                    0 0 130px rgba(255, 255, 255, 0.9),
                    0 0 150px rgba(229, 228, 226, 0.8),
                    0 0 170px rgba(255, 255, 255, 0.7),
                    0 0 190px rgba(192, 192, 192, 0.6),
                    0 0 210px rgba(229, 228, 226, 0.5),
                    0 20px 60px rgba(0, 0, 0, 0.6),
                    inset 0 0 60px rgba(255, 255, 255, 0.7),
                    inset 0 0 40px rgba(229, 228, 226, 0.5);
            }
        }

        /* เพิ่ม ring effect รอบรูป */
        .bottom-card-image::after {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.3);
            opacity: 0;
            transition: all 0.5s ease;
            pointer-events: none;
        }

        .bottom-card-image:hover::after {
            opacity: 1;
            top: -15px;
            left: -15px;
            right: -15px;
            bottom: -15px;
            border-color: rgba(255, 255, 255, 0.6);
            box-shadow: 
                0 0 30px rgba(255, 255, 255, 0.8),
                inset 0 0 30px rgba(255, 255, 255, 0.4);
            animation: ringPulse 2s ease-in-out infinite;
        }

        @keyframes ringPulse {
            0%, 100% {
                transform: scale(1);
                opacity: 0.6;
            }
            50% {
                transform: scale(1.1);
                opacity: 1;
            }
        }

        .bottom-card:active .bottom-card-image {
            transform: scale(1.05) rotate(2deg);
        }

        /* ข้อมูลในการ์ด */
        .bottom-card-info {
            display: flex;
            flex-direction: column;
            gap: 12px;
            flex-grow: 0;
            position: relative;
            z-index: 1;
        }

        /* ชื่อ */
        .bottom-card-title {
            font-size: 18px;
            font-weight: bold;
            color: white;
            line-height: 1.2;
            text-shadow: 
                0 2px 10px rgba(0, 0, 0, 0.6),
                0 0 20px rgba(229, 228, 226, 0.3);
            transition: all 0.4s ease;
            white-space: nowrap;
        }

        .bottom-card:hover .bottom-card-title {
            color: #ffffff;
            text-shadow: 
                0 0 15px rgba(229, 228, 226, 0.9),
                0 0 25px rgba(255, 255, 255, 0.7),
                0 0 35px rgba(192, 192, 192, 0.5),
                0 2px 15px rgba(0, 0, 0, 0.8);
            transform: translateX(3px);
        }

        /* Row ของ icons */
        .bottom-card-icons {
            display: flex;
            flex-direction: row;
            gap: 10px;
            align-items: center;
        }

        .bottom-card-icons a {
            text-decoration: none;
            display: inline-block;
        }

        /* แต่ละ icon - เอฟเฟกต์หรูหราด้วยไฟวิ่งรอบวงกลม */
        .bottom-icon {
            width: 34px;
            height: 34px;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            cursor: pointer;
            filter: brightness(0) invert(1) opacity(0.75);
            border-radius: 50%;
            padding: 6px;
            background: rgba(255, 255, 255, 0.08);
            border: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: visible;
        }

        /* วงแสงวิ่งรอบไอคอน - วิ่งช้าและวนไปกลับมา */
        .bottom-icon::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                transparent 0deg,
                transparent 270deg,
                rgba(255, 255, 255, 0.8) 280deg,
                rgba(255, 255, 255, 1) 290deg,
                rgba(229, 228, 226, 1) 300deg,
                rgba(192, 192, 192, 0.8) 310deg,
                transparent 320deg,
                transparent 360deg
            );
            animation: rotateLight 6s linear infinite alternate;
            z-index: -1;
        }

        /* แต่ละไอคอนหมุนด้วยความเร็วต่างกัน และวนไปกลับมา */
        .bottom-card-icons a:nth-child(1) .bottom-icon::before {
            animation: rotateLight 6s linear infinite alternate;
        }

        .bottom-card-icons a:nth-child(2) .bottom-icon::before {
            animation: rotateLight 7s linear infinite alternate;
            animation-delay: 1.5s;
        }

        .bottom-card-icons a:nth-child(3) .bottom-icon::before {
            animation: rotateLight 5.5s linear infinite alternate;
            animation-delay: 3s;
        }

        @keyframes rotateLight {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        /* แสงเรืองรอบไอคอนเบาๆ */
        .bottom-icon::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120%;
            height: 120%;
            border-radius: 50%;
            background: radial-gradient(
                circle,
                rgba(255, 255, 255, 0.2) 0%,
                transparent 70%
            );
            opacity: 0.6;
            animation: glowPulse 2s ease-in-out infinite;
            z-index: -2;
        }

        @keyframes glowPulse {
            0%, 100% {
                opacity: 0.4;
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                opacity: 0.8;
                transform: translate(-50%, -50%) scale(1.15);
            }
        }

        .bottom-icon:hover {
            transform: translateY(-6px) scale(1.25) rotate(8deg);
            filter: brightness(0) invert(1) opacity(1);
            background: rgba(255, 255, 255, 0.2);
            border: none;
            box-shadow: 
                0 10px 25px rgba(0, 0, 0, 0.5),
                0 0 30px rgba(100, 200, 255, 0.7),
                0 0 45px rgba(150, 100, 255, 0.5);
        }

        .bottom-icon:hover::before {
            animation: rotateLight 3s linear infinite alternate !important;
            background: conic-gradient(
                from 0deg,
                transparent 0deg,
                transparent 250deg,
                rgba(255, 255, 255, 1) 270deg,
                rgba(229, 228, 226, 1) 280deg,
                rgba(255, 255, 255, 1) 290deg,
                rgba(192, 192, 192, 1) 300deg,
                rgba(255, 255, 255, 0.8) 310deg,
                transparent 330deg,
                transparent 360deg
            );
        }

        .bottom-icon:active {
            transform: translateY(-4px) scale(1.15) rotate(3deg);
            box-shadow: 
                0 6px 20px rgba(0, 0, 0, 0.6),
                0 0 25px rgba(100, 200, 255, 0.9);
        }

        /* เอฟเฟกต์พิเศษสำหรับแต่ละไอคอน - สีเฉพาะตัว */
        .bottom-card-icons a:nth-child(1) .bottom-icon:hover {
            box-shadow: 
                0 10px 25px rgba(0, 0, 0, 0.5),
                0 0 30px rgba(255, 100, 150, 0.9),
                0 0 45px rgba(255, 50, 100, 0.7),
                0 0 60px rgba(255, 0, 80, 0.5);
        }

        .bottom-card-icons a:nth-child(1) .bottom-icon:hover::before {
            animation: rotateLight 3s linear infinite alternate !important;
            background: conic-gradient(
                from 0deg,
                transparent 0deg,
                transparent 250deg,
                rgba(255, 100, 150, 1) 270deg,
                rgba(255, 50, 100, 1) 280deg,
                rgba(255, 100, 150, 1) 290deg,
                rgba(255, 0, 80, 1) 300deg,
                rgba(255, 100, 150, 0.8) 310deg,
                transparent 330deg,
                transparent 360deg
            );
        }

        .bottom-card-icons a:nth-child(2) .bottom-icon:hover {
            box-shadow: 
                0 10px 25px rgba(0, 0, 0, 0.5),
                0 0 30px rgba(100, 150, 255, 0.9),
                0 0 45px rgba(50, 100, 255, 0.7),
                0 0 60px rgba(0, 80, 255, 0.5);
        }

        .bottom-card-icons a:nth-child(2) .bottom-icon:hover::before {
            animation: rotateLight 3s linear infinite alternate !important;
            background: conic-gradient(
                from 0deg,
                transparent 0deg,
                transparent 250deg,
                rgba(100, 150, 255, 1) 270deg,
                rgba(50, 100, 255, 1) 280deg,
                rgba(100, 150, 255, 1) 290deg,
                rgba(0, 80, 255, 1) 300deg,
                rgba(100, 150, 255, 0.8) 310deg,
                transparent 330deg,
                transparent 360deg
            );
        }

        .bottom-card-icons a:nth-child(3) .bottom-icon:hover {
            box-shadow: 
                0 10px 25px rgba(0, 0, 0, 0.5),
                0 0 30px rgba(100, 255, 200, 0.9),
                0 0 45px rgba(50, 255, 150, 0.7),
                0 0 60px rgba(0, 255, 140, 0.5);
        }

        .bottom-card-icons a:nth-child(3) .bottom-icon:hover::before {
            animation: rotateLight 3s linear infinite alternate !important;
            background: conic-gradient(
                from 0deg,
                transparent 0deg,
                transparent 250deg,
                rgba(100, 255, 200, 1) 270deg,
                rgba(50, 255, 150, 1) 280deg,
                rgba(100, 255, 200, 1) 290deg,
                rgba(0, 255, 140, 1) 300deg,
                rgba(100, 255, 200, 0.8) 310deg,
                transparent 330deg,
                transparent 360deg
            );
        }

        /* 🟨 กล่องขวา - Video List */
        .right.video-list {
            background: transparent !important;
            border: none !important;
            border-radius: 15px;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            position: relative;
            overflow: hidden;
        }

        /* คอนเทนเนอร์ของวิดีโอ - แสดงแค่ 5 รายการ + 2 ส่วนเลือน */
        .video-list-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding: 0 15px;
            overflow-y: auto;
            overflow-x: hidden;
            height: 550px;
            max-height: 550px;
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
            -webkit-mask-image: linear-gradient(
                to bottom,
                transparent 0%,
                black 100px,
                black calc(100% - 100px),
                transparent 100%
            );
            mask-image: linear-gradient(
                to bottom,
                transparent 0%,
                black 100px,
                black calc(100% - 100px),
                transparent 100%
            );
            margin: auto;
            position: relative;
        }

        /* Fade overlay บน */
        .fade-top {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 150px;
            background: linear-gradient(to bottom, 
                #1a1a2e 0%,
                #1a1a2e 20%,
                rgba(26, 26, 46, 0.95) 40%,
                rgba(26, 26, 46, 0.7) 60%,
                rgba(26, 26, 46, 0.3) 80%,
                transparent 100%);
            pointer-events: none;
            z-index: 10;
        }

        /* Fade overlay ล่าง */
        .fade-bottom {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 150px;
            background: linear-gradient(to top, 
                #1a1a2e 0%,
                #1a1a2e 20%,
                rgba(26, 26, 46, 0.95) 40%,
                rgba(26, 26, 46, 0.7) 60%,
                rgba(26, 26, 46, 0.3) 80%,
                transparent 100%);
            pointer-events: none;
            z-index: 10;
        }

        /* 🎴 การ์ดนามบัตรแบบผืนผ้า */
        .business-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(240, 240, 240, 0.9));
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 10px;
            padding: 15px;
            min-height: 100px;
            box-shadow: none !important;
            transition: all 0.3s ease;
            color: #333;
            position: relative;
            overflow: hidden;
            text-decoration: none;
            display: block;
            filter: none !important;
            flex-shrink: 0;
        }

        /* เอฟเฟกต์ผืนผ้า */
        .business-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                repeating-linear-gradient(90deg,
                    transparent,
                    transparent 2px,
                    rgba(255, 255, 255, 0.1) 2px,
                    rgba(255, 255, 255, 0.1) 4px),
                repeating-linear-gradient(0deg,
                    transparent,
                    transparent 2px,
                    rgba(255, 255, 255, 0.1) 2px,
                    rgba(255, 255, 255, 0.1) 4px);
            pointer-events: none;
        }

        .business-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
            filter: drop-shadow(0 0 20px rgba(100, 150, 255, 0.6)) drop-shadow(0 0 30px rgba(255, 100, 150, 0.4)) drop-shadow(0 0 40px rgba(150, 100, 255, 0.3));
        }

        /* สไตล์สำหรับการ์ดวิดีโอ - เพิ่มเอฟเฟกต์สวยงาม */
        .business-card.video-card {
            background: transparent;
            padding: 0;
            min-height: auto;
            display: flex;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            height: 90px;
            overflow: hidden;
            position: relative;
        }

        /* แสงเรืองเบาๆ เมื่อยังไม่ hover */
        .business-card.video-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                135deg,
                rgba(100, 200, 255, 0.05) 0%,
                transparent 50%,
                rgba(150, 100, 255, 0.05) 100%
            );
            opacity: 0;
            transition: opacity 0.4s ease;
            pointer-events: none;
            z-index: 0;
        }

        .business-card.video-card:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.4);
            transform: translateY(-5px) scale(1.03) !important;
            box-shadow: 
                0 8px 30px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(100, 200, 255, 0.5),
                0 0 60px rgba(150, 100, 255, 0.4),
                0 0 80px rgba(255, 100, 200, 0.3);
        }

        .business-card.video-card:hover::before {
            opacity: 1;
        }

        .video-thumbnail {
            width: 160px;
            height: 90px;
            object-fit: cover;
            display: block;
            border-radius: 8px 0 0 8px;
            flex-shrink: 0;
            transition: all 0.4s ease;
            position: relative;
            z-index: 1;
        }

        .business-card.video-card:hover .video-thumbnail {
            transform: scale(1.08);
            filter: brightness(1.1);
        }

        .video-info {
            padding: 12px 15px;
            color: white;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        .video-title {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 4px;
            line-height: 1.3;
            color: white;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            transition: all 0.3s ease;
        }

        .business-card.video-card:hover .video-title {
            color: #ffffff;
            text-shadow: 0 0 10px rgba(100, 200, 255, 0.8);
        }

        .video-channel {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            transition: all 0.3s ease;
        }

        .business-card.video-card:hover .video-channel {
            color: rgba(255, 255, 255, 0.9);
        }

        /* Platform tag สวยงาม */
        .video-platform {
            font-size: 10px;
            color: rgba(255, 255, 255, 0.7);
            background: linear-gradient(
                135deg,
                rgba(100, 200, 255, 0.2) 0%,
                rgba(150, 100, 255, 0.2) 100%
            );
            padding: 3px 8px;
            border-radius: 10px;
            margin-top: 4px;
            display: inline-block;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: fit-content;
        }

        .business-card.video-card:hover .video-platform {
            background: linear-gradient(
                135deg,
                rgba(100, 200, 255, 0.4) 0%,
                rgba(150, 100, 255, 0.4) 100%
            );
            border-color: rgba(255, 255, 255, 0.4);
            color: rgba(255, 255, 255, 1);
            box-shadow: 
                0 0 10px rgba(100, 200, 255, 0.5),
                0 0 20px rgba(150, 100, 255, 0.3);
        }

        /* Play icon overlay สำหรับวิดีโอ */
        .business-card.video-card::after {
            content: '▶';
            position: absolute;
            top: 50%;
            left: 80px;
            transform: translate(-50%, -50%) scale(0.8);
            font-size: 24px;
            color: white;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
            pointer-events: none;
            z-index: 3;
            background: rgba(0, 0, 0, 0.6);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding-left: 3px;
        }

        .business-card.video-card:hover::after {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1.2);
            background: rgba(0, 0, 0, 0.85);
            box-shadow: 
                0 0 20px rgba(0, 0, 0, 0.5),
                0 0 30px rgba(100, 200, 255, 0.6),
                0 0 40px rgba(150, 100, 255, 0.4);
        }

        .card-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            color: #1a1a2e;
        }

        .card-position {
            font-size: 14px;
            color: #555;
            margin-bottom: 8px;
        }

        .card-info {
            font-size: 12px;
            color: #666;
            line-height: 1.5;
        }

        /* Scrollbar สำหรับกล่องขวา */
        .video-list-container::-webkit-scrollbar {
            width: 6px;
        }

        .video-list-container::-webkit-scrollbar-track {
            background: transparent;
        }

        .video-list-container::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
        }

        .video-list-container::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        /* 🎵 ปุ่มควบคุมเสียงเพลง */
        .music-controls {
            position: fixed;
            bottom: 30px;
            left: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            padding: 15px 20px;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            transition: all 0.5s ease;
            max-width: 300px;
            overflow: hidden;
            opacity: 1;
        }

        .music-controls.collapsed {
            max-width: 60px;
            padding: 15px;
            opacity: 0.2;
            background: rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 255, 255, 0.1);
        }

        .music-controls.collapsed .volume-slider,
        .music-controls.collapsed .volume-level {
            opacity: 0;
            width: 0;
            pointer-events: none;
        }

        .music-controls:hover {
            background: rgba(0, 0, 0, 0.85);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
            opacity: 1 !important;
            max-width: 300px !important;
        }

        /* ปุ่ม Mute/Unmute */
        .mute-btn {
            background: transparent;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
            padding: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mute-btn:hover {
            transform: scale(1.2);
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
        }

        /* Volume Slider */
        .volume-slider {
            width: 100px;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            outline: none;
            transition: all 0.5s;
        }

        .volume-slider:hover {
            background: rgba(255, 255, 255, 0.4);
        }

        /* Slider Thumb */
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            transition: all 0.3s;
        }

        .volume-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
        }

        .volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            border: none;
            transition: all 0.3s;
        }

        .volume-slider::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
        }

        /* Volume Level Indicator */
        .volume-level {
            color: white;
            font-size: 14px;
            font-weight: bold;
            min-width: 40px;
            text-align: center;
        }

        /* 📱 Responsive สำหรับหน้าจอมือถือ */
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
                height: auto;
                min-height: 100vh;
                padding: 10px;
                gap: 15px;
            }

            .left {
                width: 100%;
                height: 250px;
                margin: 0;
            }

            .center {
                gap: 15px;
            }

            .top-boxes {
                grid-template-columns: repeat(2, 1fr);
                width: 100%;
                height: auto;
                gap: 10px;
            }

            .top-box {
                height: 80px;
                width: 100%;
            }

            .middle-section {
                height: 300px;
            }

            .bottom-section {
                height: auto;
                min-height: 150px;
                gap: 15px;
                flex-direction: column;
            }

            .bottom-card {
                max-width: 100%;
                padding: 15px 18px;
            }

            .bottom-card-image {
                width: 65px;
                height: 65px;
            }

            .bottom-card-title {
                font-size: 16px;
            }

            .bottom-icon {
                width: 32px;
                height: 32px;
                padding: 5px;
            }

            .right {
                height: auto;
            }

            .video-list-container {
                height: 400px;
                max-height: 400px;
            }

            .music-controls {
                bottom: 25px;
                left: 25px;
            }
        }

        @media (max-width: 640px) {
            body {
                height: auto;
            }

            .container {
                width: 100%;
                padding: 5px;
                gap: 10px;
            }

            .left {
                height: 200px;
            }

            .top-boxes {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .top-box {
                height: 70px;
            }

            .top-box h3 {
                font-size: 14px;
            }

            .middle-section {
                height: 250px;
            }

            .bottom-section {
                height: auto;
                min-height: 180px;
                flex-direction: column;
                gap: 12px;
                padding: 10px;
            }

            .bottom-card {
                padding: 12px 15px;
                gap: 12px;
            }

            .bottom-card-image {
                width: 55px;
                height: 55px;
            }

            .bottom-card-title {
                font-size: 15px;
            }

            .bottom-card-icons {
                gap: 8px;
            }

            .bottom-icon {
                width: 30px;
                height: 30px;
                padding: 5px;
            }

            .bottom-section h2 {
                font-size: 16px;
            }

            .video-list-container {
                padding: 0 12px;
                height: 350px;
                max-height: 350px;
            }

            .music-controls {
                bottom: 20px;
                left: 20px;
                padding: 12px 15px;
                gap: 10px;
            }

            .music-controls.collapsed {
                padding: 12px;
            }

            .volume-slider {
                width: 60px;
            }

            .volume-level {
                font-size: 12px;
                min-width: 30px;
            }

            .mute-btn {
                font-size: 20px;
            }
        }
    </style>
</head>

<body>

    <!-- 🎵 เสียงเพลงพื้นหลัง -->
    <audio id="bgMusic" loop>
        <source src="{% static 'pages/music/thailanddansmile_Music.MP3' %}" type="audio/mpeg">
    </audio>

    <!-- 🎛️ ปุ่มควบคุมเสียง -->
    <div class="music-controls">
        <button class="mute-btn" id="muteBtn" onclick="toggleMute()">
            🔊
        </button>
        <input type="range" min="0" max="100" value="50" class="volume-slider" id="volumeSlider"
            oninput="changeVolume(this.value)">
        <span class="volume-level" id="volumeLevel">50%</span>
    </div>

    <!-- 🎥 วิดีโอพื้นหลัง -->
    <video class="video-background" autoplay muted loop playsinline>
        <source src="{% static 'pages/videos/background.mp4' %}" type="video/mp4">
    </video>
    <div class="video-overlay"></div>

    <div class="container">

        <!-- 🟦 กล่องซ้าย -->
        <div class="left">
            <h2>กล่องซ้าย</h2>
        </div>

        <!-- 🟩 กล่องกลาง -->
        <div class="center">

            <!-- ส่วนบน: 4 กล่อง -->
            <div class="top-boxes">
                <a href="https://open.spotify.com/track/6xeieYI4KgZDT9emCrN19h?si=51fc28ae3ca64d3d" target="_blank"
                    class="top-box" data-tooltip="Spotify">
                    <img src="https://cdn.simpleicons.org/spotify/1DB954" alt="Spotify">
                </a>
                <a href="https://music.apple.com/th/song/thailand-dan-smile-feat-brownzer/1831206346" target="_blank"
                    class="top-box" data-tooltip="Apple Music">
                    <img src="https://cdn.simpleicons.org/applemusic/FA243C" alt="Apple Music">
                </a>
                <a href="https://tidal.com/track/452247935/u" target="_blank" class="top-box" data-tooltip="Tidal">
                    <img src="https://cdn.simpleicons.org/tidal/000000" alt="Tidal">
                </a>
                <a href="https://www.joox.com/th/single/7ThmtErZRRwtvLth_+AOxg==" target="_blank" class="top-box"
                    data-tooltip="Joox">
                    <svg class="joox-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M 35 15 L 55 15 L 55 60 Q 55 80 35 80 Q 15 80 15 60 L 25 60 Q 25 70 35 70 Q 45 70 45 60 L 45 25 L 35 25 Z"
                            fill="white" opacity="0.9" />
                        <rect x="58" y="25" width="4" height="25" fill="white" opacity="0.6" rx="2" />
                        <rect x="65" y="30" width="4" height="15" fill="white" opacity="0.4" rx="2" />
                    </svg>
                </a>
            </div>

            <!-- ส่วนกลาง -->
            <div class="middle-section">
                <iframe id="youtubeVideo" src="https://www.youtube.com/embed/cIJQrqAHpZI?enablejsapi=1&vq=hd1080&hd=1"
                    title="YouTube video player"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen>
                </iframe>
            </div>

            <!-- ส่วนล่าง -->
            <div class="bottom-section">
                <!-- การ์ดที่ 1 -->
                <div class="bottom-card">
                    <img src="{% static 'pages/profile/GifC.jpg' %}" alt="Profile 1" class="bottom-card-image">
                    <div class="bottom-card-info">
                        <div class="bottom-card-title">GIFT C YOU</div>
                        <div class="bottom-card-icons">
                            <a href="https://www.instagram.com/giftzapyya/" target="_blank">
                                <img src="https://cdn.simpleicons.org/instagram/E4405F" alt="Instagram" class="bottom-icon">
                            </a>
                            <a href="https://www.facebook.com/giftza.pongkullapa/" target="_blank">
                                <img src="https://cdn.simpleicons.org/facebook/1877F2" alt="Facebook" class="bottom-icon">
                            </a>
                            <a href="https://www.tiktok.com/@giftzapyya?lang=th-TH" target="_blank">
                                <img src="https://cdn.simpleicons.org/tiktok/000000" alt="TikTok" class="bottom-icon">
                            </a>
                        </div>
                    </div>
                </div>

                <!-- การ์ดที่ 2 -->
                <div class="bottom-card">
                    <img src="{% static 'pages/profile/Pit.jpg' %}" alt="Profile 2" class="bottom-card-image">
                    <div class="bottom-card-info">
                        <div class="bottom-card-title">Pithchicha</div>
                        <div class="bottom-card-icons">
                            <a href="https://www.instagram.com/pithchicha/" target="_blank">
                                <img src="https://cdn.simpleicons.org/instagram/E4405F" alt="Instagram" class="bottom-icon">
                            </a>
                            <a href="https://www.facebook.com/shi.ozzy/" target="_blank">
                                <img src="https://cdn.simpleicons.org/facebook/1877F2" alt="Facebook" class="bottom-icon">
                            </a>
                            <a href="https://www.tiktok.com/@shi.cfshopping24" target="_blank">
                                <img src="https://cdn.simpleicons.org/tiktok/000000" alt="TikTok" class="bottom-icon">
                            </a>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- 🟨 กล่องขวา - Video List -->
        <div class="right video-list">
            <!-- Video List Container - แสดงแค่ 5 รายการชัดเจน + 2 ส่วนเลือน -->
            <div class="video-list-container">
                <!-- การ์ดวิดีโอ YouTube -->
                <a href="https://youtu.be/BX6hVQqgNCA?si=DcPNE4QWZnZWUebz" target="_blank" class="business-card video-card">
                    <img src="https://img.youtube.com/vi/BX6hVQqgNCA/hqdefault.jpg" alt="Video 1" class="video-thumbnail">
                    <div class="video-info">
                        <div class="video-title">Thailand dan Smile - Official Video</div>
                        <div class="video-channel">Official Channel</div>
                    </div>
                </a>

                <a href="https://youtu.be/iRqptvgqQPo?si=u5gSCNOgy0cmMh8z" target="_blank" class="business-card video-card">
                    <img src="https://img.youtube.com/vi/iRqptvgqQPo/hqdefault.jpg" alt="Video 2" class="video-thumbnail">
                    <div class="video-info">
                        <div class="video-title">Thailand dan Smile - Behind The Scenes</div>
                        <div class="video-channel">Official Channel</div>
                    </div>
                </a>

                <a href="https://youtu.be/09R8_2nJtjg?si=iOjfBHRknyxp2ro8" target="_blank" class="business-card video-card">
                    <img src="https://img.youtube.com/vi/09R8_2nJtjg/hqdefault.jpg" alt="Video 3" class="video-thumbnail">
                    <div class="video-info">
                        <div class="video-title">Thailand dan Smile - Special Content</div>
                        <div class="video-channel">Official Channel</div>
                    </div>
                </a>

                <a href="https://www.youtube.com/watch?v=Vk5-c_v4gMU" target="_blank" class="business-card video-card">
                    <img src="https://img.youtube.com/vi/Vk5-c_v4gMU/hqdefault.jpg" alt="Video 4" class="video-thumbnail">
                    <div class="video-info">
                        <div class="video-title">ไม่เป็นไรเลย [Official MV]</div>
                        <div class="video-channel">SARAN Official</div>
                    </div>
                </a>

                <a href="https://www.youtube.com/watch?v=sVTy_wmn5SU" target="_blank" class="business-card video-card">
                    <img src="https://img.youtube.com/vi/sVTy_wmn5SU/hqdefault.jpg" alt="Video 5" class="video-thumbnail">
                    <div class="video-info">
                        <div class="video-title">ดวงเดือน - CLOCKWORK MOTIONS「Official MV」</div>
                        <div class="video-channel">Clockwork Motions</div>
                    </div>
                </a>

                <a href="https://www.youtube.com/watch?v=7HDeem-JaSY" target="_blank" class="business-card video-card">
                    <img src="https://img.youtube.com/vi/7HDeem-JaSY/hqdefault.jpg" alt="Video 6" class="video-thumbnail">
                    <div class="video-info">
                        <div class="video-title">พรุ่งนี้ค่อย (Tomorrow) - The Toys</div>
                        <div class="video-channel">The Toys</div>
                    </div>
                </a>

                <a href="https://www.youtube.com/watch?v=VXzAJd8UJl8" target="_blank" class="business-card video-card">
                    <img src="https://img.youtube.com/vi/VXzAJd8UJl8/hqdefault.jpg" alt="Video 7" class="video-thumbnail">
                    <div class="video-info">
                        <div class="video-title">คาเฟอีน - DA ENDORPHINE「Official MV」</div>
                        <div class="video-channel">DA ENDORPHINE Official</div>
                    </div>
                </a>

                <a href="https://www.youtube.com/watch?v=jO2viLEW-1A" target="_blank" class="business-card video-card">
                    <img src="https://img.youtube.com/vi/jO2viLEW-1A/hqdefault.jpg" alt="Video 8" class="video-thumbnail">
                    <div class="video-info">
                        <div class="video-title">ลืมไปแล้วว่าลืมยังไง - INK WARUNTORN「Official MV」</div>
                        <div class="video-channel">INK WARUNTORN</div>
                    </div>
                </a>

                <a href="https://www.youtube.com/watch?v=Il-an3K9pjg" target="_blank" class="business-card video-card">
                    <img src="https://img.youtube.com/vi/Il-an3K9pjg/hqdefault.jpg" alt="Video 9" class="video-thumbnail">
                    <div class="video-info">
                        <div class="video-title">นิทาน - SERIOUS BACON「Official MV」</div>
                        <div class="video-channel">SERIOUS BACON</div>
                    </div>
                </a>
            </div>
        </div>

    </div>

    <script>
        const audio = document.getElementById('bgMusic');
        const muteBtn = document.getElementById('muteBtn');
        const volumeSlider = document.getElementById('volumeSlider');
        const volumeLevel = document.getElementById('volumeLevel');
        const musicControls = document.querySelector('.music-controls');
        const youtubeIframe = document.getElementById('youtubeVideo');
        let collapseTimeout;
        let musicWasPausedByVideo = false;

        // ตั้งค่าเริ่มต้น
        audio.volume = 0.5;

        // ตรวจจับเมื่อผู้ใช้คลิกที่วิดีโอ YouTube
        youtubeIframe.addEventListener('load', function () {
            document.querySelector('.middle-section').addEventListener('click', function () {
                if (!audio.paused) {
                    audio.pause();
                    musicWasPausedByVideo = true;
                }
            });
        });

        function collapseControls() {
            musicControls.classList.add('collapsed');
        }

        function expandControls() {
            musicControls.classList.remove('collapsed');
            resetCollapseTimer();
        }

        function resetCollapseTimer() {
            clearTimeout(collapseTimeout);
            collapseTimeout = setTimeout(collapseControls, 2000);
        }

        function toggleMute() {
            if (audio.muted) {
                audio.muted = false;
                muteBtn.textContent = '🔊';
            } else {
                audio.muted = true;
                muteBtn.textContent = '🔇';
            }
            resetCollapseTimer();
        }

        function changeVolume(value) {
            audio.volume = value / 100;
            volumeLevel.textContent = value + '%';

            if (value == 0) {
                muteBtn.textContent = '🔇';
                audio.muted = true;
            } else {
                audio.muted = false;
                if (value < 30) {
                    muteBtn.textContent = '🔈';
                } else if (value < 70) {
                    muteBtn.textContent = '🔉';
                } else {
                    muteBtn.textContent = '🔊';
                }
            }
            resetCollapseTimer();
        }

        musicControls.addEventListener('mouseenter', expandControls);
        musicControls.addEventListener('mouseleave', resetCollapseTimer);
        musicControls.addEventListener('click', expandControls);
        volumeSlider.addEventListener('input', function () {
            changeVolume(this.value);
        });

        document.addEventListener('click', function () {
            if (audio.paused && !musicWasPausedByVideo) {
                audio.play().catch(e => console.log('Auto-play prevented:', e));
            }
        }, { once: true });

        window.addEventListener('load', function () {
            audio.play().catch(e => {
                console.log('Auto-play prevented. Click anywhere to start music.');
            });
            resetCollapseTimer();
        });
    </script>

</body>

</html>